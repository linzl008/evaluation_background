webpackJsonp([18],{"4Z7+":function(e,n,t){n=e.exports=t("BkJT")(!0),n.push([e.i,".config[data-v-4b801c0c]{text-align:left}.config .add[data-v-4b801c0c]{padding-left:15px;padding-right:15px}","",{version:3,sources:["C:/Users/kivlin/Desktop/final_exam/evaluation_web/src/pages/fund/config.vue"],names:[],mappings:"AACA,yBACE,eAAiB,CAClB,AACD,8BACI,kBAAmB,AACnB,kBAAoB,CACvB",file:"config.vue",sourcesContent:["\n.config[data-v-4b801c0c] {\n  text-align: left;\n}\n.config .add[data-v-4b801c0c] {\n    padding-left: 15px;\n    padding-right: 15px;\n}\n"],sourceRoot:""}])},DElM:function(e,n,t){var a=t("4Z7+");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("8bSs")("6fc75034",a,!0)},tVmg:function(e,n,t){"use strict";function a(e){t("DElM")}Object.defineProperty(n,"__esModule",{value:!0});var o=t("xCxW"),i=t("ys5c"),r=t("8AGX"),s=a,l=r(o.a,i.a,!1,s,"data-v-4b801c0c",null);n.default=l.exports},xCxW:function(e,n,t){"use strict";var a=t("I732"),o=t("CjZ7");n.a={name:"",watch:{keyword:function(e){this.handleSearch()}},data:function(){return{keyword:"",funds:[],loading:!1,config:[],pageInfo:{pageNum:1,pageSize:10,totalPage:10,pageSizes:[10,20,50,100]}}},created:function(){this.updateList()},methods:{configEdit:function(e,n){console.log("edit"),this.$router.push({path:"/home/fund/config-edit",query:{fundcode:n.fundcode}})},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.updateConfig()},handleCurrentChange:function(e){this.pageInfo.pageNum=e,this.updateConfig()},updateList:function(){var e=this,n={page:1,rows:9999,type:"",module:"",msg:""};this.loading=!0,this.$http.get(o.a.getFundList+"?"+t.i(a.c)(n)).then(function(n){console.log(n),t.i(a.a)(n,"","获取基金列表数据失败")&&(e.funds=n.results,e.pageInfo.totalPage=n.total,e.updateConfig()),e.loading=!1}).catch(function(n){console.log(n),e.loading=!1,e.$message.error("获取基金列表数据失败！")})},updateConfig:function(){var e=this.querySearchAsync(this.keyword);console.log(e);var n=this.pageInfo.pageNum,t=this.pageInfo.pageSize,a=(n-1)*t,o=a+t;this.config=e.slice(a,o),this.pageInfo.totalPage=e.length,console.log(this.config,this.pageInfo,e)},querySearchAsync:function(e){var n=this.funds;return e?n.filter(this.createStateFilter(e)):n},createStateFilter:function(e){return function(n){if(isNaN(e)){return n.fundname.toLowerCase().indexOf(e.toLowerCase())>=0}return(n.fundcode+"").indexOf(e.toLowerCase())>=0}},handleSearch:function(){console.log("click"),this.pageInfo.pageNum=1,this.updateConfig()}}}},ys5c:function(e,n,t){"use strict";var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"config"},[t("el-col",{attrs:{xs:12,sm:8,md:8,lg:6}},[t("el-input",{attrs:{size:"small",placeholder:"请输入搜索基金代码或名称",icon:"search","on-icon-click":e.handleSearch},on:{change:e.handleSearch},model:{value:e.keyword,callback:function(n){e.keyword=n},expression:"keyword"}},[t("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},on:{click:e.handleSearch},slot:"suffix"})])],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table",attrs:{border:"",data:e.config,"element-loading-text":"拼命加载中"}},[t("el-table-column",{attrs:{label:"基金代码",prop:"fundcode",width:"140",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"基金名称",prop:"fundname",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{label:"基金类型",prop:"fundtype",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[e._v("\n        "+e._s("2"==n.row.fundtype?"货币型":"")+"\n        "+e._s("3"==n.row.fundtype?"ETF型":"")+"\n        "+e._s("0"==n.row.fundtype?"股票型":"")+"\n        "+e._s("4"==n.row.fundtype?"保本型":"")+"\n        "+e._s("1"==n.row.fundtype?"债券型":"")+"\n        "+e._s("A"==n.row.fundtype?"混合型":"")+"\n        "+e._s("5"==n.row.fundtype?"QDII型":"")+"\n      ")]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"最低费率/折扣费率",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[e._v("\n        "+e._s(n.row.orifareratio?n.row.orifareratio+"%":"--")+" / "+e._s(n.row.discountrate?n.row.discountrate+"%":"--")+"\n      ")]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"推荐语",prop:"recommend",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[e._v("\n        "+e._s(n.row.recommend?n.row.recommend+"%":"--")+"\n      ")]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作",prop:"title",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.configEdit(n.$index,n.row)}}},[e._v("配置详情")])]}}])})],1),e._v(" "),t("div",{staticClass:"block",staticStyle:{"text-align":"right"}},[t("el-pagination",{attrs:{"current-page":e.pageInfo.pageNum,"page-sizes":e.pageInfo.pageSizes,"page-size":e.pageInfo.pageSize,total:e.pageInfo.totalPage,layout:"total, sizes,jumper ,prev, pager, next "},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},o=[],i={render:a,staticRenderFns:o};n.a=i}});
//# sourceMappingURL=18.8d38384092adfc8c1aea.js.map