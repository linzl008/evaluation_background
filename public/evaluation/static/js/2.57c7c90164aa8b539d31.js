webpackJsonp([2],{He71:function(e,t,i){"use strict";function a(e){i("TDrX")}Object.defineProperty(t,"__esModule",{value:!0});var n=i("Kg8n"),s=i("WARg"),o=i("8AGX"),l=a,r=o(n.a,s.a,!1,l,"data-v-40863fdc",null);t.default=r.exports},Kg8n:function(e,t,i){"use strict";var a=i("uZON"),n=i("sLIr"),s=i("I732"),o=i("CjZ7");t.a={name:"",components:{NewsEdit:a.a,NewsHomeEdit:n.a},watch:{tabListType:function(e){"基金公告"==e&&(this.infotype=1),"资讯热点"==e&&(this.infotype=2),"法律文件"==e&&(this.infotype=3),this.pageInfoT={pageNum:1,pageSize:10,totalPage:10,pageSizes:[10,20,50,100]},this.updatenews()},activeName:function(e){console.log("tab",e),"home"==e&&(this.notifytype=2),"list"==e&&(this.notifytype=3),this.updatenews()}},data:function(){return{activeName:"home",editHomeVisible:!1,editVisible:!1,editHomeData:{},editData:{},notifytype:2,infotype:1,loading1:!1,loading2:!1,tabListType:"基金公告",options:[{value:"1",label:"基金公告"},{value:"2",label:"资讯热点"},{value:"3",label:"法律文件"}],newsHome:[],newsTab:[],pageInfoH:{pageNum:1,pageSize:10,totalPage:10,pageSizes:[10,20,50,100]},pageInfoT:{pageNum:1,pageSize:10,totalPage:10,pageSizes:[10,20,50,100]}}},mounted:function(){this.updatenews()},methods:{newsHomeAdd:function(){console.log("enter"),this.editHomeData={title:"",link:"",pushtime:"",endtime:""},this.editHomeVisible=!0},newsHomeEdit:function(e,t){console.log("edit"),this.editHomeData=t,this.editHomeVisible=!0},newsAdd:function(){this.editData={title:"",pushtime:"",endtime:"",link:"",fundcode:"",fundname:""},this.editVisible=!0},newsEdit:function(e,t){console.log("edit"),this.editData=t,this.editVisible=!0},newsDel:function(e,t){var a=this;console.log("del");var n={id:t.id};i.i(s.b)({},function(){a.$http.delete(o.a.deleteNewsMarFundList+"?"+i.i(s.c)(n)).then(function(e){i.i(s.a)(e,"删除成功","删除失败")&&a.updatenews()})})},handleSizeChangeH:function(e){this.pageInfoH.pageSize=e,this.updatenews()},handleCurrentChangeH:function(e){this.pageInfoH.pageNum=e,this.updatenews()},handleSizeChangeT:function(e){this.pageInfoT.pageSize=e,this.updatenews()},handleCurrentChangeT:function(e){this.pageInfoT.pageNum=e,this.updatenews()},updatenews:function(){var e=this;console.log("updatenews");var t={notifytype:this.notifytype,page:1,rows:10};2==this.notifytype&&(t.page=this.pageInfoH.pageNum,t.rows=this.pageInfoH.pageSize,this.loading1=!0),3==this.notifytype&&(t.infotype=this.infotype,t.page=this.pageInfoT.pageNum,t.rows=this.pageInfoT.pageSize,this.loading2=!0),this.$http.get(o.a.getNewsMarFundList+"?"+i.i(s.c)(t)).then(function(t){i.i(s.a)(t,"","获取数据失败")&&("2"==e.notifytype&&(e.newsHome=t.results,e.pageInfoH.totalPage=t.total),"3"==e.notifytype&&(e.newsTab=t.results,e.pageInfoT.totalPage=t.total),e.loading1=!1,e.loading2=!1)})},handleInfoChange:function(e,t){console.log(e,t),this.updateOrAdd(t)},updateOrAdd:function(e){var t=this;console.log("enter",e);var a={};"0"==e.startTimeType?a.pushtime="":a.pushtime=e.pushtime,"0"==e.endTimeType?a.endtime="":a.endtime=e.endtime,2==this.notifytype&&(a.title=e.title,a.link=e.link,a.notifytype=this.notifytype,e.id?(a.id=e.id,e.infotype&&(a.infotype=e.infotype),console.log(a),this.$http.put(o.a.updateNewsMarFundList,a).then(function(e){i.i(s.a)(e,"更新成功","更新失败")&&(t.updatenews(),t.closeHomeEdit())})):(a.infotype="1",this.$http.post(o.a.addNewsMarFundList,a).then(function(e){i.i(s.a)(e,"添加成功","添加失败")&&(t.updatenews(),t.closeHomeEdit())}))),3==this.notifytype&&(a.title=e.title,a.link=e.link,a.fundcode=e.fundcode,a.notifytype=this.notifytype,e.id?(a.id=e.id,a.infotype=e.infotype,console.log(a),this.$http.put(o.a.updateNewsMarFundList,a).then(function(e){i.i(s.a)(e,"更新成功","更新失败")&&(t.updatenews(),t.closeEdit())})):(a.infotype=this.infotype,this.$http.post(o.a.addNewsMarFundList,a).then(function(e){i.i(s.a)(e,"添加成功","添加失败")&&(t.updatenews(),t.closeEdit())})))},closeEdit:function(){this.editVisible=!1},closeHomeEdit:function(){this.editHomeVisible=!1}}}},Mfsc:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"news-edit",attrs:{visible:e.visible,"before-close":e.handleClose,title:"列表资讯编辑"},on:{"update:visible":function(t){e.visible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form}},[i("el-form-item",{attrs:{label:"标题：","label-width":e.formLabelWidth}},[i("el-input",{attrs:{placeholder:"标题字数不得超过25个",size:"small","auto-complete":"off"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"关联基金：","label-width":e.formLabelWidth}},[i("el-input",{attrs:{placeholder:"请选择关联基金",size:"small","auto-complete":"off"},on:{change:e.handleSearch},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"","label-width":e.formLabelWidth}},[i("el-table",{staticStyle:{width:"100%","line-height":"25px"},attrs:{data:e.results,"max-height":"250"}},[i("el-table-column",{attrs:{prop:"fundcode",label:"基金代码",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{prop:"fundname",label:"基金名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){e.handleSelect(t.row,t.$index)}}},[e._v("添加\n            ")])]}}])})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"发布时间：","label-width":e.formLabelWidth,prop:"sendTimeType disable"}},[i("el-radio-group",{staticStyle:{"padding-top":"12px"},on:{change:function(t){e.toggle("start")}},model:{value:e.form.startTimeType,callback:function(t){e.$set(e.form,"startTimeType",t)},expression:"form.startTimeType"}},[i("el-radio",{attrs:{label:"0"}},[e._v("点击发布")]),e._v(" "),i("div",{staticClass:"m-t"},[i("el-radio",{staticStyle:{"padding-right":"10px"},attrs:{label:"1"}},[e._v("定时发布")]),e._v(" "),i("el-date-picker",{staticClass:"inline",attrs:{type:"datetime",size:"mini",placeholder:"选择日期",editable:!1,format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",disabled:e.form.startTimeState},on:{change:function(t){return e.getTime(t,"pushtime")}},model:{value:e.form.pushtime,callback:function(t){e.$set(e.form,"pushtime",t)},expression:"form.pushtime"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"下架时间：","label-width":e.formLabelWidth}},[i("el-radio-group",{staticStyle:{"padding-top":"12px"},on:{change:function(t){e.toggle("end")}},model:{value:e.form.endTimeType,callback:function(t){e.$set(e.form,"endTimeType",t)},expression:"form.endTimeType"}},[i("el-radio",{attrs:{label:"0"}},[e._v("点击下架")]),e._v(" "),i("div",{staticClass:"m-t"},[i("el-radio",{staticStyle:{"padding-right":"10px"},attrs:{label:"1"}},[e._v("定时下架")]),e._v(" "),i("el-date-picker",{staticClass:"inline",attrs:{type:"datetime",size:"mini",placeholder:"选择日期",editable:!1,format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",disabled:e.form.endTimeState},on:{change:function(t){return e.getTime(t,"endtime")}},model:{value:e.form.endtime,callback:function(t){e.$set(e.form,"endtime",t)},expression:"form.endtime"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"文档链接：","label-width":e.formLabelWidth}},[i("el-input",{attrs:{placeholder:"",size:"small","auto-complete":"off"},model:{value:e.form.link,callback:function(t){e.$set(e.form,"link",t)},expression:"form.link"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},TDrX:function(e,t,i){var a=i("n7io");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("8bSs")("b29ea218",a,!0)},WARg:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"news"},[i("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"首页显示",name:"home"}},[i("el-button",{staticClass:"add",attrs:{type:"primary",size:"mini"},on:{click:e.newsHomeAdd}},[e._v("发布新的资讯公告")]),e._v(" "),i("div",{staticClass:"noline"}),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading1,expression:"loading1"}],staticClass:"table",attrs:{border:"",data:e.newsHome,"element-loading-text":"拼命加载中"}},[i("el-table-column",{attrs:{label:"滚动消息序号",prop:"id",width:"140",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"资讯公告标题",prop:"title",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"跳转链接",prop:"link",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"发布时间",prop:"pushtime",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"下架时间",prop:"endtime",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"类型",prop:"type",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:function(i){return e.handleInfoChange(i,t.row)}},model:{value:t.row.infotype,callback:function(i){e.$set(t.row,"infotype",i)},expression:"scope.row.infotype"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",prop:"title",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){e.newsHomeEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){e.newsDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"right"}},[i("el-pagination",{attrs:{"current-page":e.pageInfoH.pageNum,"page-sizes":e.pageInfoH.pageSizes,"page-size":e.pageInfoH.pageSize,total:e.pageInfoH.totalPage,layout:"total, sizes,jumper ,prev, pager, next "},on:{"size-change":e.handleSizeChangeH,"current-change":e.handleCurrentChangeH}})],1),e._v(" "),i("newsHome-edit",{attrs:{edit:e.editHomeData,visible:e.editHomeVisible},on:{updateOrAdd:e.updateOrAdd,close:e.closeHomeEdit}})],1),e._v(" "),i("el-tab-pane",{attrs:{label:"列表显示",name:"list"}},[i("el-radio-group",{attrs:{size:"mini"},model:{value:e.tabListType,callback:function(t){e.tabListType=t},expression:"tabListType"}},[i("el-radio-button",{attrs:{label:"基金公告"}}),e._v(" "),i("el-radio-button",{attrs:{label:"资讯热点"}}),e._v(" "),i("el-radio-button",{attrs:{label:"法律文件"}})],1),e._v(" "),i("div",{staticClass:"noline"}),e._v(" "),i("div",[i("el-button",{staticClass:"add",attrs:{type:"primary",size:"mini"},on:{click:e.newsAdd}},[e._v("发布新的资讯公告")])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading2,expression:"loading2"}],staticClass:"table",attrs:{border:"",data:e.newsTab,"element-loading-text":"拼命加载中"}},[i("el-table-column",{attrs:{label:"标题",prop:"title",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"跳转链接",prop:"link",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"发布时间",prop:"pushtime",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"下架时间",prop:"endtime",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"消息状态",prop:"msgstatus",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s("0"==t.row.msgstatus?"已下架":"")+"\n            "+e._s("1"==t.row.msgstatus?"展示中":"")+"\n            "+e._s("2"==t.row.msgstatus?"等待展示":"")+"\n          ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",prop:"title",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){e.newsEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){e.newsDel(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"right"}},[i("el-pagination",{attrs:{"current-page":e.pageInfoT.pageNum,"page-sizes":e.pageInfoT.pageSizes,"page-size":e.pageInfoT.pageSize,total:e.pageInfoT.totalPage,layout:"total, sizes,jumper ,prev, pager, next "},on:{"size-change":e.handleSizeChangeT,"current-change":e.handleCurrentChangeT}})],1),e._v(" "),i("news-edit",{attrs:{edit:e.editData,visible:e.editVisible},on:{updateOrAdd:e.updateOrAdd,close:e.closeEdit}})],1)],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},YjrK:function(e,t,i){t=e.exports=i("BkJT")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"news-edit.vue",sourceRoot:""}])},Zg1p:function(e,t,i){t=e.exports=i("BkJT")(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"newsHome-edit.vue",sourceRoot:""}])},"c+U/":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"news-edit",attrs:{visible:e.visible,"before-close":e.handleClose,title:"首页资讯公告编辑"},on:{"update:visible":function(t){e.visible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form}},[i("el-form-item",{attrs:{label:"资讯名称：","label-width":e.formLabelWidth}},[i("el-input",{attrs:{placeholder:"请输入资讯名称",size:"small","auto-complete":"off"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"跳转链接：","label-width":e.formLabelWidth}},[i("el-input",{attrs:{placeholder:"请选择跳转链接",size:"small","auto-complete":"off"},model:{value:e.form.link,callback:function(t){e.$set(e.form,"link",t)},expression:"form.link"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"发布时间：","label-width":e.formLabelWidth,prop:"sendTimeType disable"}},[i("el-radio-group",{staticStyle:{"padding-top":"12px"},on:{change:function(t){e.toggle("start")}},model:{value:e.form.startTimeType,callback:function(t){e.$set(e.form,"startTimeType",t)},expression:"form.startTimeType"}},[i("el-radio",{attrs:{label:"0"}},[e._v("点击发布")]),e._v(" "),i("div",{staticClass:"m-t"},[i("el-radio",{staticStyle:{"padding-right":"10px"},attrs:{label:"1"}},[e._v("定时发布")]),e._v(" "),i("el-date-picker",{staticClass:"inline",attrs:{type:"datetime",size:"mini",placeholder:"选择日期",editable:!1,format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",disabled:e.form.startTimeState},on:{change:function(t){return e.getTime(t,"pushtime")}},model:{value:e.form.pushtime,callback:function(t){e.$set(e.form,"pushtime",t)},expression:"form.pushtime"}})],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"下架时间：","label-width":e.formLabelWidth}},[i("el-radio-group",{staticStyle:{"padding-top":"12px"},on:{change:function(t){e.toggle("end")}},model:{value:e.form.endTimeType,callback:function(t){e.$set(e.form,"endTimeType",t)},expression:"form.endTimeType"}},[i("el-radio",{attrs:{label:"0"}},[e._v("点击下架")]),e._v(" "),i("div",{staticClass:"m-t"},[i("el-radio",{staticStyle:{"padding-right":"10px"},attrs:{label:"1"}},[e._v("定时下架")]),e._v(" "),i("el-date-picker",{staticClass:"inline",attrs:{type:"datetime",size:"mini",placeholder:"选择日期",editable:!1,format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",disabled:e.form.endTimeState},on:{change:function(t){return e.getTime(t,"endtime")}},model:{value:e.form.endtime,callback:function(t){e.$set(e.form,"endtime",t)},expression:"form.endtime"}})],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submit}},[e._v("确 定")])],1)],1)},n=[],s={render:a,staticRenderFns:n};t.a=s},fUQ0:function(e,t,i){var a=i("Zg1p");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("8bSs")("426efef8",a,!0)},hcWg:function(e,t,i){"use strict";var a=i("aA9S"),n=i.n(a),s=i("I732");i("CjZ7");t.a={name:"",props:{visible:Boolean,edit:Object},watch:{visible:function(e){1==this.visible&&(this.form.id="",this.form=n()({},this.form,this.edit),this.edit.pushtime?this.form.startTimeType="1":this.form.startTimeType="0",this.edit.endtime?this.form.endTimeType="1":this.form.endTimeType="0",0==this.form.startTimeType&&(this.form.startTimeState=!0),0==this.form.endTimeType&&(this.form.endTimeState=!0))}},data:function(){return{formLabelWidth:"120px",keyword:"",results:[],form:{startTimeType:"1",endTimeType:"1",startTimeState:!1,endTimeState:!1}}},mounted:function(){},methods:{submit:function(){var e=this;this.checkList()&&(console.log("submit",this.edit,this.form),i.i(s.b)({title:"确定发布该资讯？",confirm_btn:"发布"},function(){e.$emit("updateOrAdd",e.form)}))},checkList:function(){if(""==this.form.title)return this.$message.error("标题不能为空"),!1;if(""==this.form.link)return this.$message.error("链接不能为空"),!1;if("1"===this.form.startTimeType&&""==this.form.pushtime||"1"===this.form.endTimeType&&""==this.form.endtime)return this.$message.error("请选择时间"),!1;if("1"===this.form.startTimeType)var e=new Date(this.form.pushtime).getTime();else var e=Date.now();var t=new Date(this.form.endtime).getTime();return!("1"===this.form.endTimeType&&e>t)||(this.$message.error("结束时间必须晚于发布时间"),!1)},handleClose:function(){console.log("handleClose",this.edit,this.form);var e={startTimeType:"1",endTimeType:"1",startTimeState:!1,endTimeState:!1};this.form={},this.form=n()({},e,this.edit),this.$emit("close")},getTime:function(e,t){console.log("data"),this.form[t]=e},toggle:function(e){"start"==e&&("0"==this.form.startTimeType?this.form.startTimeState=!0:this.form.startTimeState=!1),"end"==e&&("0"==this.form.endTimeType?this.form.endTimeState=!0:this.form.endTimeState=!1)}}}},m6hj:function(e,t,i){var a=i("YjrK");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("8bSs")("7dfb7e5f",a,!0)},n7io:function(e,t,i){t=e.exports=i("BkJT")(!0),t.push([e.i,".news[data-v-40863fdc]{text-align:left}.news .add[data-v-40863fdc]{padding-left:15px;padding-right:15px}","",{version:3,sources:["C:/Users/kivlin/Desktop/final_exam/evaluation_web/src/pages/board/news.vue"],names:[],mappings:"AACA,uBACE,eAAiB,CAClB,AACD,4BACI,kBAAmB,AACnB,kBAAoB,CACvB",file:"news.vue",sourcesContent:["\n.news[data-v-40863fdc] {\n  text-align: left;\n}\n.news .add[data-v-40863fdc] {\n    padding-left: 15px;\n    padding-right: 15px;\n}\n"],sourceRoot:""}])},nGlW:function(e,t,i){"use strict";var a=i("aA9S"),n=i.n(a),s=i("I732"),o=i("CjZ7");t.a={name:"",props:{visible:Boolean,edit:Object},watch:{visible:function(e){console.log("edit",e,this.edit,this.form),1==this.visible&&(this.form.id="",this.form=n()({},this.form,this.edit),this.keyword=this.form.fundname||this.form.fundcode||"",this.handleSearch(this.keyword),this.edit.pushtime?this.form.startTimeType="1":this.form.startTimeType="0",this.edit.endtime?this.form.endTimeType="1":this.form.endTimeType="0",0==this.form.startTimeType&&(this.form.startTimeState=!0),0==this.form.endTimeType&&(this.form.endTimeState=!0))},keyword:function(e){this.handleSearch(e)}},data:function(){return{formLabelWidth:"120px",keyword:"",results:[],form:{startTimeType:"1",endTimeType:"1",startTimeState:!1,endTimeState:!1}}},mounted:function(){var e=this,t={page:1,rows:9999,msg:""};this.$http.get(o.a.getFundList+"?"+i.i(s.c)(t)).then(function(t){i.i(s.a)(t,"","获取基金列表失败")&&(e.funds=t.results)}).catch(function(t){e.$message.error("获取基金列表数据失败！")})},methods:{handleSearch:function(){this.results=this.querySearchAsync(this.keyword)},submit:function(){var e=this;this.checkList()&&(console.log("submit",this.edit,this.form),i.i(s.b)({title:"确定发布该基金？",confirm_btn:"发布"},function(){e.$emit("updateOrAdd",e.form),e.keyword=""}))},checkList:function(){if(""==this.form.title)return this.$message.error("标题不能为空"),!1;if(this.form.title.length>25)return this.$message.error("标题不能超过25个字"),!1;if(""==this.form.link)return this.$message.error("链接不能为空"),!1;if("1"===this.form.startTimeType&&""==this.form.pushtime||"1"===this.form.endTimeType&&""==this.form.endtime)return this.$message.error("请选择时间"),!1;if("1"===this.form.startTimeType)var e=new Date(this.form.pushtime).getTime();else var e=Date.now();var t=new Date(this.form.endtime).getTime();return!("1"===this.form.endTimeType&&e>t)||(this.$message.error("结束时间必须晚于发布时间"),!1)},handleClose:function(){console.log("handleClose",this.edit,this.form);var e={startTimeType:"1",endTimeType:"1",startTimeState:!1,endTimeState:!1};this.keyword="",this.form={},this.form=n()({},e,this.edit),this.$emit("close")},getTime:function(e,t){console.log("data"),this.form[t]=e},querySearchAsync:function(e){for(var t=this.funds,i=e?t.filter(this.createStateFilter(e)):t,a=0;a<t.length;a++)t[a].value=t[a].fundname;return i},createStateFilter:function(e){return function(t){if(isNaN(e)){return(t.fundname.toLowerCase()+"").indexOf(e.toLowerCase())>=0}return(t.fundcode+"").indexOf(e.toLowerCase())>=0}},handleSelect:function(e,t){console.log("item",e),""==e.value?(this.form.fundid="",this.form.fundcode="",this.form.fundname=""):(this.form.fundid=e.fundid,this.form.fundcode=e.fundcode,this.form.fundname=e.fundname),this.keyword=this.form.fundname},toggle:function(e){"start"==e&&("0"==this.form.startTimeType?this.form.startTimeState=!0:this.form.startTimeState=!1),"end"==e&&("0"==this.form.endTimeType?this.form.endTimeState=!0:this.form.endTimeState=!1)}}}},sLIr:function(e,t,i){"use strict";function a(e){i("fUQ0")}var n=i("hcWg"),s=i("c+U/"),o=i("8AGX"),l=a,r=o(n.a,s.a,!1,l,"data-v-7d69fe06",null);t.a=r.exports},uZON:function(e,t,i){"use strict";function a(e){i("m6hj")}var n=i("nGlW"),s=i("Mfsc"),o=i("8AGX"),l=a,r=o(n.a,s.a,!1,l,"data-v-3f07b986",null);t.a=r.exports}});
//# sourceMappingURL=2.57c7c90164aa8b539d31.js.map